---------------User Query---------------
#Used by Subtype: USER
sub fitbit_getSleepGoals($) {
  my ($hash) = @_;
  my $name = $hash->{NAME};
  my $userID = $hash->{USERID};

  Log3 $name, 4, "$name: fitbit_getSleepGoals() ".$hash->{USERID};
  return undef if( !defined($hash->{IODev}) );

  my $token = fitbit_decrypt( $hash->{IODev}->{helper}{token} );
  Log3 $name, 5, "$name: fitbit_getSleepGoals(): Use token from I/O Dev $hash->{IODev}->{NAME}";

  my $now = substr(TimeNow(),0,10);
  HttpUtils_NonblockingGet({
    url => "https://api.fitbit.com/1/user/-/sleep/goal.json",
    timeout => 30,
    noshutdown => 1,
    header => {"Authorization" => 'Bearer '. $token, "Accept-Locale" => 'de_DE'},
    hash => $hash,
    type => 'sleepGoals',
    callback => \&fitbit_Dispatch,
  });

  $hash->{LAST_POLL} = TimeNow();
  readingsSingleUpdate( $hash, ".poll", gettimeofday(), 0 );
  return undef;
}


---------------Response---------------
```perl
#Used by Subtype: USER
sub fitbit_getSleepGoals($) {
  my ($hash) = @_;
  my $name = $hash->{NAME};
  my $userID = $hash->{USERID};

  Log3 $name, 4, "$name: fitbit_getSleepGoals() ".$hash->{USERID};
  return undef if( !defined($hash->{IODev}) );

  my $token = fitbit_decrypt( $hash->{IODev}->{helper}{token} );
  Log3 $name, 5, "$name: fitbit_getSleepGoals(): Use token from I/O Dev $hash->{IODev}->{NAME}";

  my $now = substr(TimeNow(),0,10);
  HttpUtils_NonblockingGet({
    url => "https://api.fitbit.com/1.2/user/-/sleep/goal.json",
    timeout => 30,
    noshutdown => 1,
    header => {"Authorization" => 'Bearer '. $token, "Accept-Locale" => 'de_DE'},
    hash => $hash,
    type => 'sleepGoals',
    callback => \&fitbit_Dispatch,
  });

  $hash->{LAST_POLL} = TimeNow();
  readingsSingleUpdate( $hash, ".poll", gettimeofday(), 0 );
  return undef;
}
```

---------------Similarity Score---------------
0.8140289992499999

---------------Relevant Context---------------

Context number 1 (score: 0.860675216): 
Get Sleep Goal Returns a user's current sleep goal. Scope: sleep Request GET /1.2/user/[user-id]/sleep/goal.json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional Defines the media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . Examples URL CURL GET https ://api.fitbit.com/1.2/user/-/sleep/goal.json GET https ://api.fitbit.com/1.2/user/GGNJL9/sleep/goal.json curl -X GET "https ://api.fitbit.com/1.2/user/-/sleep/goal.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" Response Description Example Response Element Name Description consistency : flowId An integer value representing the sleep goal consistency flow. 0 = A sleep goal is set, but there are not enough sleep logs recorded. 1 = The user either missed their sleep goal or no goal is set, but there are enough sleep logs recorded. 2 = A sleep goal is not set, and there are not enough sleep logs recorded. 3 = The user achieved their sleep goal. goal : minDuration Length of the sleep goal period in minutes. goal : updatedOn The timestamp that the goal was created/updated. { "consistency": { "flowId": 2 }, "goal": { "minDuration": 480, "updatedOn": "2020-01-01T13:00:00.126Z" } } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests.
Context number 2 (score: 0.845151901): 
Create Sleep Goal Create or update a user's sleep goal. Scope: sleep Request POST /1.2/user/[user-id]/sleep/goal.json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. Query Parameters minDuration required Length of sleep goal in minutes. string ($int) Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional Defines the media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . content-length required According to RFC 7230, section 3.3.2 , this HTTP request requires the Content-Length header field containing the anticipated size of the payload body. Examples URL CURL POST https ://api.fitbit.com/1.2/user/-/sleep/goal.json?minDuration=600 POST https ://api.fitbit.com/1.2/user/GGNJL9/sleep/goal.json?minDuration=600 curl -X POST "https ://api.fitbit.com/1.2/user/-/sleep/goal.json?minDuration=600" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" \ -H "content-length: <message_body_size>" Response Description Example Response Element Name Description goal : minDuration Length of the sleep goal period in minutes. goal : updatedOn The timestamp that the goal was created/updated. { "goal": { "minDuration": 600, "updatedOn": "2020-01-01T00:26:40.794Z" } } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests. This could result in your application receiving an unexpected 429 response if you don't track the total number of requests you make yourself. Response Type HTTP Status Code HTTP response code.
Context number 3 (score: 0.829309583): 
Get Food Goals Retrieves the user's current daily calorie consumption goal and/or food plan. Scope: nutrition Request GET /1/user/[user-id]/foods/log/goal.json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional The media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . Examples URL CURL GET https ://api.fitbit.com/1/user/-/foods/log/goal.json GET https ://api.fitbit.com/1/user/GGNJL9/foods/log/goal.json curl -X GET "https ://api.fitbit.com/1/user/-/foods/log/goal.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" Response Description Example Response Element Name Description goals : calories The daily calorie consumption goal. { "goals": { "calories": 2910 } } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests. This could result in your application receiving an unexpected 429 response if you don't track the total number of requests you make yourself. Response Type HTTP Status Code HTTP response code. List of codes are found in the Troubleshooting Guide . Status Message Description of the status code. Response Body Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure. Response Codes 200 A successful request. 400 The request had bad syntax or was inherently impossible to be satisfied. 401 The request requires user authentication. Note: For a complete list of response codes, please refer to the Troubleshooting Guide .
Context number 4 (score: 0.822835803): 
Get Body Goals Retrieves a user's body fat and weight goals. Scope: weight Request GET /1/user/[user-id]/body/log/[goal-type]/goal.json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. goal-type required Supported : weight | fat Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional The media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . Examples URL CURL GET https ://api.fitbit.com/1/user/-/body/log/weight/goal.json GET https ://api.fitbit.com/1/user/GGNJL9/body/log/weight/goal.json curl -X GET "https ://api.fitbit.com/1/user/-/body/log/weight/goal.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" Response Description Example Response Element Name Description goal : goalType The goal type. Supported: LOSE | GAIN | MAINTAIN goal : startDate The goal start date. goal : startWeight User's weight when goal was established. goal : weight The weight goal to achieve. goal : weightThreshold The recommended amount of weight to lose each week to achieve and maintain goal. goal : fat The body fat goal to achieve. Weight Goal { "goal": { "goalType": "LOSE", "startDate": "2018-06-13", "startWeight": 105.28, "weight": 99.79, "weightThreshold": 0.05 } } Body Fat Goal { "goal": { "fat": 25 } } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests.
Context number 5 (score: 0.817350864): 
Sleep The Sleep endpoints are used for querying and modifying the user’s general sleep data. Developers can request the following API endpoints when integrating the Sleep data type: Create Sleep Goal creates or updates a user's sleep goal. Create Sleep Log creates a log entry for a sleep event. Delete Sleep Log deletes a user's sleep log. Get Sleep Goal retrieves a user's sleep goal. Get Sleep Log by Date retrieves a list of a user's sleep log entries for a given date. Get Sleep Log by Date Range retrieves a list of a user's sleep log entries for a given date range. Get Sleep Log List retrieves a list of a user's sleep log entries before or after a given date. Nutrition Time Series Blood Oxygen Saturation (SpO2)
Context number 6 (score: 0.816033304): 
Get Water Goal Retrieves a user's daily water consumption goal. Scope: nutrition Request GET /1/user/[user-id]/foods/log/water/goal.json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional The media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . Examples URL CURL GET https ://api.fitbit.com/1/user/-/foods/log/water/goal.json GET https ://api.fitbit.com/1/user/GGNJL9/foods/log/water/goal.json curl -X GET "https ://api.fitbit.com/1/user/-/foods/log/water/goal.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" Response Description Example Response Element Name Description goal : goal Amount of water to consume daily. goal : startDate Water goal's start date. { "goal": { "goal": 24, "startDate": "2019-03-21" } } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests. This could result in your application receiving an unexpected 429 response if you don't track the total number of requests you make yourself. Response Type HTTP Status Code HTTP response code. List of codes are found in the Troubleshooting Guide . Status Message Description of the status code. Response Body Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure. Response Codes 200 A successful request. 400 The request had bad syntax or was inherently impossible to be satisfied. 401 The request requires user authentication.
Context number 7 (score: 0.814228): 
Get Activity Goals Retrieves a user's current daily or weekly activity goals. It uses units that correspond to the Accept-Language header provided. Scope: activity Request GET /1/user/[user-id]/activities/goals/[period].json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. period required Supported: daily | weekly Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional The media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . Examples URL CURL GET https ://api.fitbit.com/1/user/-/activities/goals/daily.json GET https ://api.fitbit.com/1/user/GGNJL9/activities/goals/daily.json curl -X GET "https ://api.fitbit.com/1/user/-/activities/goals/daily.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" Response Description Example Response Element Name Description goals : activeMinutes Daily active minutes goal. A value is not returned for weekly goals. goals : activeZoneMinutes Daily or weekly active zone minutes goal. goals : caloriesOut Daily calories burned goal. A value is not returned for weekly goals. goals : distance Daily or weekly distance goal. goals : floors Daily or weekly floors climbed goal. goals : steps Daily or weekly steps taken goal. The following is an example of a response for daily activity goals. { "goals": { "activeMinutes": 55, "activeZoneMinutes": 21, "caloriesOut": 3500, "distance": 5, "floors": 10, "steps": 10000 } } The following is an example of a response for weekly activity goals. { "goals": { "activeZoneMinutes": 150, "distance": 56.33, "floors": 70, "steps": 70000 } } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit.
Context number 8 (score: 0.81414181): 
See Localization . X-Fitbit-Subscriber-Id optional The ID of the subscriber to receive notifications, as defined on dev.fitbit.com. If not present, the default subscriber is used. Examples URL CURL DELETE https ://api.fitbit.com/1/user/-/apiSubscriptions/320.json DELETE https ://api.fitbit.com/1/user/-/activities/apiSubscriptions/320json DELETE https ://api.fitbit.com/1/user/-/body/apiSubscriptions/320.json DELETE https ://api.fitbit.com/1/user/-/foods/apiSubscriptions/320.json DELETE https ://api.fitbit.com/1/user/GGNJL9/sleep/apiSubscriptions/320.json DELETE https ://api.fitbit.com/1/user/GGNJL9/userRevokedAccess/apiSubscriptions/320.json curl -X DELETE "https ://api.fitbit.com/1/user/-/apiSubscriptions/320.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" curl -X DELETE "https ://api.fitbit.com/1/user/-/activities/apiSubscriptions/320.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" Response Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests. This could result in your application receiving an unexpected 429 response if you don't track the total number of requests you make yourself. Response Type HTTP Status Code HTTP response code. List of codes are found in the Troubleshooting Guide . Status Message Description of the status code. Response Body Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure. Response Codes 204 Returned if the given user is already subscribed to to the stream. Note: For a complete list of response codes, please refer to the Troubleshooting Guide . Create Subscription Get Subscription List
Context number 9 (score: 0.813602865): 
Create Body Fat Goal Create or update a user's body fat goal. Scope: weight Request POST /1/user/[user-id]/body/log/fat/goal.json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. Query Parameters fat required Target body fat percentage in the format X.XX. decimal Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional The media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . content-length required According to RFC 7230, section 3.3.2 , this HTTP request requires the Content-Length header field containing the anticipated size of the payload body. Examples URL CURL POST https ://api.fitbit.com/1/user/-/body/log/fat/goal.json?fat=16 POST https ://api.fitbit.com/1/user/GGNJL9/body/log/fat/goal.json?fat=16 curl -X POST "https ://api.fitbit.com/1/user/-/body/log/fat/goal.json?fat=16" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" \ -H "content-length: <message_body_size>" Response Description Example Response Element Name Description goal : fat The body fat goal to achieve. { "goal": { "fat": 25 } } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests. This could result in your application receiving an unexpected 429 response if you don't track the total number of requests you make yourself. Response Type HTTP Status Code HTTP response code. List of codes are found in the Troubleshooting Guide . Status Message Description of the status code. Response Body Contains the JSON response to the API call.
Context number 10 (score: 0.813311696): 
Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . Examples URL CURL GET https ://api.fitbit.com/1.2/user/-/sleep/list.json?afterDate=2020-05-01&sort=asc&offset=0&limit=1 GET https ://api.fitbit.com/1.2/user/GGNJL9/sleep/list.json?afterDate=2020-05-01&sort=asc&offset=0&limit=1 curl -X GET "https ://api.fitbit.com/1.2/user/-/sleep/list.json?2020-05-01&sort=asc&offset=0&limit=1" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" Response Description Example Response Element Name Description pagination : [date] The specified beforeDate or afterDate. pagination : limit The specified limit. pagination : next pagination : offset The specified offset. pagination : previous pagination : sort The specified sort order. sleep : dateOfSleep The data the sleep log ended. sleep : duration Length of the sleep in milliseconds. sleep : efficiency Calculated sleep efficiency score. This is not the sleep score available in the mobile application. sleep : endTime Time the sleep log ended. sleep : infoCode An integer value representing the quality of data collected within the sleep log. 0 = Sufficient data to generate a sleep log. 1 = Insufficient heart rate data. 2 = Sleep period was too short (less than 3 hours). 3 = Server-side issue. sleep : isMainSleep Boolean value: true or false sleep : levels : data : dateTime Timestamp the user started in sleep level. sleep : levels : data : level The sleep level the user entered. The values returned for the sleep log type are: classic : restless | asleep | awake stages : deep | light | rem | wake sleep : levels : data : seconds The length of time the user was in the sleep level. Displayed in seconds. sleep : levels : shortData : dateTime Timestamp the user started in sleep level. Only supported when log type = stages. sleep : levels : shortData : level The sleep level the user entered. Only supported when log type = stages.
Context number 11 (score: 0.812707186): 
See Localization . X-Fitbit-Subscriber-Id optional The ID of the subscriber to receive notifications, as defined on dev.fitbit.com. If not present, the default subscriber is used. Examples URL CURL GET https ://api.fitbit.com/1/user/-/apiSubscriptions.json GET https ://api.fitbit.com/1/user/-/activities/apiSubscriptions.json GET https ://api.fitbit.com/1/user/-/body/apiSubscriptions.json GET https ://api.fitbit.com/1/user/-/foods/apiSubscriptions.json GET https ://api.fitbit.com/1/user/GGNJL9/sleep/apiSubscriptions.json GET https ://api.fitbit.com/1/user/GGNJL9/userRevokedAccess/apiSubscriptions.json curl -X GET "https ://api.fitbit.com/1/user/-/apiSubscriptions.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" curl -X GET "https ://api.fitbit.com/1/user/GGNJL9/activities/apiSubscriptions.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" Response Description Example Response Element Name Description collectionType ownerId ownerType subscriberId subscriptionId { "collectionType":"activities", "ownerId":"GGNJL9", "ownerType":"user", "subscriberId":"1", "subscriptionId":"320" } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests. This could result in your application receiving an unexpected 429 response if you don't track the total number of requests you make yourself. Response Type HTTP Status Code HTTP response code. List of codes are found in the Troubleshooting Guide . Status Message Description of the status code. Response Body Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
Context number 12 (score: 0.812377334): 
X-Fitbit-Subscriber-Id optional The ID of the subscriber to receive notifications, as defined on dev.fitbit.com. If not present, the default subscriber is used. Examples URL CURL POST https ://api.fitbit.com/1/user/-/apiSubscriptions/320.json POST https ://link>://api.fitbit.com/1/user/-/activities/apiSubscriptions/320json POST https ://api.fitbit.com/1/user/-/body/apiSubscriptions/320.json POST https ://api.fitbit.com/1/user/-/foods/apiSubscriptions/320.json POST https ://api.fitbit.com/1/user/GGNJL9/sleep/apiSubscriptions/320.json POST https ://api.fitbit.com/1/user/GGNJL9/userRevokedAccess/apiSubscriptions/320.json curl -X POST "https ://api.fitbit.com/1/user/-/apiSubscriptions/320.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" \ -H "content-length: <message_body_size>" curl -X POST "https ://api.fitbit.com/1/user/-/activities/apiSubscriptions/320.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" \ -H "content-length: <message_body_size>" Response Description Example Response Element Name Description collectionType ownerId ownerType subscriberId subscriptionId { "collectionType":"activities", "ownerId":"GGNJL9", "ownerType":"user", "subscriberId":"1", "subscriptionId":"320" } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests. This could result in your application receiving an unexpected 429 response if you don't track the total number of requests you make yourself. Response Type HTTP Status Code HTTP response code. List of codes are found in the Troubleshooting Guide . Status Message Description of the status code. Response Body Contains the JSON response to the API call.
Context number 13 (score: 0.804221451): 
Delete Sleep Log Deletes a sleep log with the given log id. Scope: sleep Request DELETE /1.2/user/[user-id]/sleep/[log-id].json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. log-id required ID of the sleep log to be deleted. Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional Defines the media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . Examples URL CURL DELETE https ://api.fitbit.com/1.2/user/-/sleep/3948582.json DELETE https ://api.fitbit.com/1.2/user/GGNJL9/sleep/3948582.json curl -X DELETE "https ://api.fitbit.com/1.2/user/-/sleep/25793948582.json" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" Response A JSON response is not returned by this endpoint. Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests. This could result in your application receiving an unexpected 429 response if you don't track the total number of requests you make yourself. Response Type HTTP Status Code HTTP response code. List of codes are found in the Troubleshooting Guide . Status Message Description of the status code. Response Body Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure. Response Codes 204 A successful request. 400 The request had bad syntax or was inherently impossible to be satisfied. 401 The request requires user authentication. Note: For a complete list of response codes, please refer to the Troubleshooting Guide . Create Sleep Log Get Sleep Goal
Context number 14 (score: 0.802488863): 
sleep : levels : data : level The sleep level the user entered. sleep : levels : data : seconds The length of time the user was in the sleep level. Displayed in seconds. sleep : levels : summary : [stage] : count Total number of times the user entered the sleep level. sleep : levels : summary : [stage] : minutes Total number of minutes the user appeared in the sleep level. sleep : logId Sleep log ID. sleep : minutesAfterWakeup The total number of minutes after the user woke up. sleep : minutesAsleep The total number of minutes the user was asleep. sleep : minutesAwake The total number of minutes the user was awake. sleep : minutesToFallAsleep The total number of minutes before the user fell asleep. sleep : startTime Time the sleep log begins. sleep : timeInBed Total number of minutes the user was in bed. sleep : type The type of sleep log. Supported : classic | stages { "sleep": { "dateOfSleep": "2020-02-09", "duration": 720000, "efficiency": 100, "endTime": "2020-02-09T22:12:00.000", "infoCode": 0, "isMainSleep": false, "levels": { "data": [ { "dateTime": "2020-02-09T22:00:00.000", "level": "asleep", "seconds": 720 } ], "summary": { "asleep": { "count": 0, "minutes": 12 }, "awake": { "count": 0, "minutes": 0 }, "restless": { "count": 0, "minutes": 0 } } }, "logId": 25793948582, "minutesAfterWakeup": 0, "minutesAsleep": 12, "minutesAwake": 0, "minutesToFallAsleep": 0, "startTime": "2020-02-09T22:00:00.000", "timeInBed": 12, "type": "classic" } } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit.
Context number 15 (score: 0.801970243): 
Create Water Goal Creates or updates a user's daily water consumption goal. Scope: nutrition Request POST /1/user/[user-id]/foods/log/water/goal.json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. Query Parameters target required Target water goal in the format X.X in the unit system that corresponds to the locale. decimal Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional The media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . content-length required According to RFC 7230, section 3.3.2 , this HTTP request requires the Content-Length header field containing the anticipated size of the payload body. Examples URL CURL POST https ://api.fitbit.com/1/user/-/foods/log/water/goal.json?target=24 POST https ://api.fitbit.com/1/user/GGNJL9/foods/log/water/goal.json?target=24 curl -X POST "https ://api.fitbit.com/1/user/-/foods/log/water/goal.json?target=24" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" \ -H "content-length: <message_body_size>" Response Description Example Response Element Name Description goal : goal Amount of water to consume daily in the units specified by the Accept-Language header. goal : startDate water goal's start date. { "goal": { "goal": 24, "startDate": "2019-03-21" } } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests. This could result in your application receiving an unexpected 429 response if you don't track the total number of requests you make yourself. Response Type HTTP Status Code HTTP response code.
Context number 16 (score: 0.80120033): 
goals : calories Daily calories goal. summary Total nutritional values consumed in a day. { "foods": [ { "isFavorite": true, "logDate": "2019-03-21", "logId": 17406206369, "loggedFood": { "accessLevel": "PUBLIC", "amount": 1, "brand": "Subway", "calories": 280, "foodId": 14022778, "locale": "en_US", "mealTypeId": 3, "name": "6 inch Turkey Breast", "unit": { "id": 296, "name": "sandwich", "plural": "sandwiches" }, "units": [ 296, 226, 180, 147, 389 ] }, "nutritionalValues": { "calories": 280, "carbs": 46, "fat": 3.5, "fiber": 5, "protein": 18, "sodium": 760 } } ], "goals": { "calories": 2910 }, "summary": { "calories": 280, "carbs": 46, "fat": 3.5, "fiber": 5, "protein": 18, "sodium": 760, "water": 0 } } Response Headers content-type The media type of the response content being sent to the client. Supported: application/json fitbit-rate-limit-limit The quota number of calls. fitbit-rate-limit-remaining The number of calls remaining before hitting the rate limit. fitbit-rate-limit-reset The number of seconds until the rate limit resets. Note: The rate limit headers are approximate and asynchronously updated. This means that there may be a minor delay in the decrementing of remaining requests. This could result in your application receiving an unexpected 429 response if you don't track the total number of requests you make yourself. Response Type HTTP Status Code HTTP response code. List of codes are found in the Troubleshooting Guide . Status Message Description of the status code. Response Body Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure. Response Codes 200 A successful request. 400 The request had bad syntax or was inherently impossible to be satisfied. 401 The request requires user authentication.
Context number 17 (score: 0.800750673): 
Create Sleep Log Creates a log entry for a sleep event and returns a response in the format requested. Scope: sleep Request POST /1.2/user/[user-id]/sleep.json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. Query Parameters date required Log entry date in the format yyyy-MM-dd. string ($date) duration required Duration in milliseconds. integer startTime required Start time; hours and minutes in the format HH:mm. string ($date) Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional Defines the media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . content-length required According to RFC 7230, section 3.3.2 , this HTTP request requires the Content-Length header field containing the anticipated size of the payload body. Examples URL CURL POST https ://api.fitbit.com/1.2/user/-/sleep.json?date=2020-02-09&startTime=22:00&duration=720000 POST https ://api.fitbit.com/1.2/user/GGNJL9/sleep.json?date=2020-02-09&startTime=22:00&duration=720000 curl -X POST "https ://api.fitbit.com/1.2/user/-/sleep.json?date=2020-02-09&startTime=22:00&duration=720000" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" \ -H "content-length: <message_body_size>" Response Description Example Response Element Name Description sleep : dateOfSleep The data the sleep log ended. sleep : duration Length of the sleep in milliseconds. sleep : efficiency Calculated sleep efficiency score. This is not the sleep score available in the mobile application. sleep : endTime Time the sleep log ended. sleep : infoCode sleep : isMainSleep Boolean value: true or false sleep : levels : data : dateTime Timestamp the user started in sleep level. sleep : levels : data : level The sleep level the user entered. sleep : levels : data : seconds The length of time the user was in the sleep level.
Context number 18 (score: 0.800635397): 
Create Food Goal Creates or updates a user's daily calorie consumption or food plan goals. Scope: nutrition Request POST /1/user/[user-id]/foods/log/goal.json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. Query Parameters calories optional/required Manual calories consumption goal. Either calories or intensity must be provided. integer intensity optional/required Food plan intensity. Either calories or intensity must be provided. Supported : MAINTENANCE | EASIER | MEDIUM | KINDAHARD | HARDER string personalized optional Food plan type. Supported : true | false boolean Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional The media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . content-length required According to RFC 7230, section 3.3.2 , this HTTP request requires the Content-Length header field containing the anticipated size of the payload body. Examples URL CURL POST https ://api.fitbit.com/1/user/-/foods/log/goal.json?calories=1800 POST https ://api.fitbit.com/1/user/GGNJL9/foods/log/goal.json?calories=1800 curl -X POST "https ://api.fitbit.com/1/user/-/foods/log/goal.json?calories=1800" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" \ -H "content-length: <message_body_size>" Response Description Example Response Element Name Description goals : calories The user's daily caloric consumption goal. foodPlan : estimatedDate Estimated weight goal achievement date based on current body metrics and food plan intensity values specified. Returned when the intensity query parameter is provided. foodPlan : intensity Food plan intensity value. Returned when the intensity query parameter is provided. Supported : MAINTENANCE | EASIER | MEDIUM | KINDAHARD | HARDER foodPlan : personalized States if the food plan is personalized for the user. Returned when the intensity query parameter is provided.
Context number 19 (score: 0.800454676): 
Create Weight Goal Creates or updates a user's weight goal. Scope: weight Request POST /1/user/[user-id]/body/log/weight/goal.json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. Query Parameters startDate required Weight goal start date in the format yyyy-MM-dd. decimal startWeight required Starting weight before reaching goal in the format X.XX; entered in the unit system corresponding to the Accept-Language header provided. decimal weight optional/required Target weight goal in the format X.XX; entered in the unit system corresponding to the Accept-Language header provided. Required if the user doesn't have an existing weight goal. decimal Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional The media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . content-length required According to RFC 7230, section 3.3.2 , this HTTP request requires the Content-Length header field containing the anticipated size of the payload body. Examples URL CURL POST https ://api.fitbit.com/1/user/-/body/log/weight/goal.json?startDate=2019-03-21&startWeight=200&weight=180.5 POST https ://api.fitbit.com/1/user/GGNJL9/body/log/weight/goal.json?startDate=2019-03-21&startWeight=200&weight=180.5 curl -X POST "https ://api.fitbit.com/1/user/-/body/log/weight/goal.json?startDate=2019-03-21&startWeight=200" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" \ -H "content-length: <message_body_size>" Response Description Example Response Element Name Description goal : goalType The goal type. Supported: LOSE | GAIN | MAINTAIN goal : startDate The goal start date. goal : startWeight User's weight when goal was established. goal : weight The weight goal to achieve. goal : weightThreshold The recommended amount of weight to lose each week to achieve and maintain goal.
Context number 20 (score: 0.79713279): 
Create Activity Goal Creates or updates a user's daily or weekly activity goal. It uses units that correspond to the Accept-Language header provided. Scope: activity Request POST /1/user/[user-id]/activities/goals/[period].json URI Arguments user-id required The encoded ID of the user. Use "-" (dash) for current logged-in user. period required Supported: daily | weekly Query Parameters type optional/required Supported: activeMinutes | activeZoneMinutes | caloriesOut | distance | floors | steps string value optional/required Goal value integer Request Headers authorization required Specify the token type and Fitbit user’s access token. Token type: Bearer accept optional The media type of the response content the client is expecting. Supported: application/json accept-language optional The measurement unit system to use for response values. See Localization . accept-locale optional The locale to use for response values. See Localization . content-length required According to RFC 7230, section 3.3.2 , this HTTP request requires the Content-Length header field containing the anticipated size of the payload body. Examples URL CURL POST https ://api.fitbit.com/1/user/-/activities/goals/daily.json?type=steps&value=10000 POST https ://api.fitbit.com/1/user/GGNJL9/activities/goals/daily.json?type=steps&value=10000 curl -X POST "https ://api.fitbit.com/1/user/-/activities/goals/daily.json?type=steps&value=10000" \ -H "accept: application/json" \ -H "authorization: Bearer <access_token>" \ -H "content-length: <message_body_size>" Response Description Example Response Element Name Description goals : activeMinutes Daily active minutes goal. A value is not returned for weekly goals. goals : activeZoneMinutes Daily or weekly active zone minutes goal. goals : caloriesOut Daily calories burned goal. A value is not returned for weekly goals. goals : distance Daily or weekly distance goal. goals : floors Daily or weekly floors climbed goal. goals : steps Daily or weekly steps taken goal. The following is an example of a response for daily activity goals.