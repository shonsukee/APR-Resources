---------------User Query---------------
class FitbitOauthClient(object):
    API_ENDPOINT = "https://api.fitbit.com"
    AUTHORIZE_ENDPOINT = "https://www.fitbit.com"

    request_token_url = "%s/oauth/request_token" % API_ENDPOINT
    access_token_url = "%s/oauth/access_token" % API_ENDPOINT
    authorization_url = "%s/oauth/authorize" % AUTHORIZE_ENDPOINT

    def __init__(self, client_key, client_secret, resource_owner_key=None,
                 resource_owner_secret=None, user_id=None, callback_uri=None,
                 *args, **kwargs):
        """
        Create a FitbitOauthClient object. Specify the first 5 parameters if
        you have them to access user data. Specify just the first 2 parameters
        to access anonymous data and start the set up for user authorization.
        Set callback_uri to a URL and when the user has granted us access at
        the fitbit site, fitbit will redirect them to the URL you passed.  This
        is how we get back the magic verifier string from fitbit if we're a web
        app. If we don't pass it, then fitbit will just display the verifier
        string for the user to copy and we'll have to ask them to paste it for
        us and read it that way.
        """

        self.session = requests.Session()
        self.client_key = client_key
        self.client_secret = client_secret
        self.resource_owner_key = resource_owner_key
        self.resource_owner_secret = resource_owner_secret
        if user_id:
            self.user_id = user_id
        params = {'client_secret': client_secret}
        if callback_uri:
            params['callback_uri'] = callback_uri
        if self.resource_owner_key and self.resource_owner_secret:
            params['resource_owner_key'] = self.resource_owner_key
            params['resource_owner_secret'] = self.resource_owner_secret
        self.oauth = OAuth1Session(client_key, **params)

    def _request(self, method, url, **kwargs):
        """
        A simple wrapper around requests.
        """
        return self.session.request(method, url, **kwargs)

    def make_request(self, url, data={}, method=None, **kwargs):
        """
        Builds and makes the OAuth Request, catches errors
        https://wiki.fitbit.com/display/API/API+Response+Format+And+Errors
        """
        if not method:
            method = 'POST' if data else 'GET'
        auth = OAuth1(
            self.client_key, self.client_secret, self.resource_owner_key,
            self.resource_owner_secret, signature_type='auth_header')
        response = self._request(method, url, data=data, auth=auth, **kwargs)

        if response.status_code == 401:
            raise HTTPUnauthorized(response)
        elif response.status_code == 403:
            raise HTTPForbidden(response)
        elif response.status_code == 404:
            raise HTTPNotFound(response)
        elif response.status_code == 409:
            raise HTTPConflict(response)
        elif response.status_code == 429:
            exc = HTTPTooManyRequests(response)
            exc.retry_after_secs = int(response.headers['Retry-After'])
            raise exc

        elif response.status_code >= 500:
            raise HTTPServerError(response)
        elif response.status_code >= 400:
            raise HTTPBadRequest(response)
        return response


---------------Response---------------
```python
class FitbitOauthClient(object):
    API_ENDPOINT = "https://api.fitbit.com"
    AUTHORIZE_ENDPOINT = "https://www.fitbit.com"

    request_token_url = "%s/oauth2/authorize" % AUTHORIZE_ENDPOINT
    access_token_url = "%s/oauth2/token" % API_ENDPOINT
    authorization_url = "%s/oauth2/authorize" % AUTHORIZE_ENDPOINT

    def __init__(self, client_key, client_secret, resource_owner_key=None,
                 resource_owner_secret=None, user_id=None, callback_uri=None,
                 *args, **kwargs):
        """
        Create a FitbitOauthClient object. Specify the first 5 parameters if
        you have them to access user data. Specify just the first 2 parameters
        to access anonymous data and start the set up for user authorization.
        Set callback_uri to a URL and when the user has granted us access at
        the fitbit site, fitbit will redirect them to the URL you passed.  This
        is how we get back the magic verifier string from fitbit if we're a web
        app. If we don't pass it, then fitbit will just display the verifier
        string for the user to copy and we'll have to ask them to paste it for
        us and read it that way.
        """

        self.session = requests.Session()
        self.client_key = client_key
        self.client_secret = client_secret
        self.resource_owner_key = resource_owner_key
        self.resource_owner_secret = resource_owner_secret
        if user_id:
            self.user_id = user_id
        params = {'client_secret': client_secret}
        if callback_uri:
            params['redirect_uri'] = callback_uri
        if self.resource_owner_key and self.resource_owner_secret:
            params['resource_owner_key'] = self.resource_owner_key
            params['resource_owner_secret'] = self.resource_owner_secret
        self.oauth = OAuth1Session(client_key, **params)

    def _request(self, method, url, **kwargs):
        """
        A simple wrapper around requests.
        """
        return self.session.request(method, url, **kwargs)

    def make_request(self, url, data={}, method=None, **kwargs):
        """
        Builds and makes the OAuth Request, catches errors
        https://wiki.fitbit.com/display/API/API+Response+Format+And+Errors
        """
        if not method:
            method = 'POST' if data else 'GET'
        auth = OAuth1(
            self.client_key, self.client_secret, self.resource_owner_key,
            self.resource_owner_secret, signature_type='auth_header')
        response = self._request(method, url, data=data, auth=auth, **kwargs)

        if response.status_code == 401:
            raise HTTPUnauthorized(response)
        elif response.status_code == 403:
            raise HTTPForbidden(response)
        elif response.status_code == 404:
            raise HTTPNotFound(response)
        elif response.status_code == 409:
            raise HTTPConflict(response)
        elif response.status_code == 429:
            exc = HTTPTooManyRequests(response)
            exc.retry_after_secs = int(response.headers['Retry-After'])
            raise exc

        elif response.status_code >= 500:
            raise HTTPServerError(response)
        elif response.status_code >= 400:
            raise HTTPBadRequest(response)
        return response
```

---------------Similarity Score---------------
0.7751218656122448

---------------Relevant Context---------------
---------------latest_natural_language---------------

Context number 1 (score: 0.804876089): 
# OAuth2 Token

The /oauth2/token endpoint can do the following:

  * Exchange the authorization code for the initial access token and refresh token (See [OAuth2 Token](/build/reference/web-api/authorization/oauth2-token)). This process is required when using the Authorization Code Grant Flow.
  * Obtain a new access token and refresh token when the existing access token has expired (See [Refresh Token](/build/reference/web-api/authorization/refresh-token/)).
  * Initiate the Client Credentials authorization flow (See [Client Credentials](/build/reference/web-api/authorization/client-credentials/)).

* * *

|  
  
**Body Parameters**  
**code**  
_required_ | The authorization code received in the redirect as a URI parameter. The authorization code is only valid for 10 minutes. **Type:** string  
|  
**grant_type**  
_required_ | **Supported:** `authorization_code` **Type:** string  
**client_id**  
_required for client apps_ | This is your Fitbit API application ID from your settings on <https://dev.fitbit.com>. Apps set to type "client" should use this to pass their ID instead of the Authorization header. **Type:** string  
**redirect_uri**  
_recommended / required_ | Required if specified in the redirect to the authorization page. Must be exact match. **Type:** URI  
**expires_in**  
_optional_ | Specifies the desired access token lifetime.  `28800` for 8 hours **Supported:** 28800 **Type:** integer  
**code_verifier**  
(For use with PKCE only)  
_required_ | The code verifier is used to derive the code challenge while obtaining the access code in the authorization request. This string is the base64url-encoding of a cryptographically, random-generated octet sequence. **Type:** string  
  
**Request Headers** authorization | (For use with server apps only)  
required | Must be set to Basic followed by a space, then the Base64 encoded string of your application's client id and secret concatenated with a colon. For example, the Base64 encoded string, **Y2xpZW50X2lkOmNsaWVudCBzZWNyZXQ=** , is decoded as **"client_id:client secret"**. **Token type:** `Basic`  
||  
accept | optional | The media type of the response content the client is expecting.
Context number 2 (score: 0.803553641): 
# Client Credentials Grant Flow

The /oauth2/token endpoint can do the following:

  * Exchange the authorization code for the initial access token and refresh token (See [OAuth2 Token](/build/reference/web-api/authorization/oauth2-token)).  
This process is required when using the Authorization Code Grant Flow [with
PKCE].

  * Obtain a new access token and refresh token when the existing access token has expired (See [Refresh Token](/build/reference/web-api/authorization/refresh-token/)).
  * Initiate the Client Credentials authorization flow (See [Client Credentials](/build/reference/web-api/authorization/client-credentials/)).

Fitbit follows the OAuth 2.0 Client Credentials flow as specified in [RFC
6749](https://datatracker.ietf.org/doc/html/rfc6749#section-1.3.4). This
authorization flow is used with specific Fitbit API endpoints related to
business operations. It is not supported by the public Web APIs to retrieve
Fitbit user data.

The Client Credentials Grant flow has the following steps:

  1. The application sends a request to https://api.fitbit.com/oauth2/token with its client_id and client_secret; and
  2. Fitbit authenticates your application and issues an access token.

* * *

|  
  
**Body Parameters**  
**grant_type**  
_required_ | **Supported:** client_credentials **Type:** string  
|  
**expires_in**  
_optional_ | Pre-select the desired access token lifetime. `3600` for 1 hour  
`28800` for 8 hours  
`86400` for 1 day  
`604800` for 1 week  
`2592000` for 30 days  
`31536000` for 1 year **Default:** 28800 **Type:** string  
  
**Request Headers** authorization | required | Must be set to Basic followed by a space, then the Base64 encoded string of your application's client id and secret concatenated with a colon. For example, the Base64 encoded string, **Y2xpZW50X2lkOmNsaWVudCBzZWNyZXQ=** , is decoded as **"client_id:client secret"**. **Token type:** `Basic`  
||  
accept | optional | The media type of the response content the client is expecting.
Context number 3 (score: 0.800263762): 
# Authorize

Initiates the OAuth 2.0 authorization flow by presenting the consent screen to
the Fitbit user.

* * *

|  
  
**Query Parameters** **client_id**  
_required_ | This is the Fitbit API application id created within [dev.fitbit.com](https://dev.fitbit.com/apps). **Type:** string  
|  
**response_type**  
_required_ | `code` for Authorization Code Grant Flow [with PKCE]  
`token` for Implicit Grant Flow. **Type:** string  
**scope**  
_required_ | A space-delimited list of the permissions you are requesting. See [Scopes](/build/reference/web-api/developer-guide/application-design/#Scopes). **Type:** string  
**redirect_uri**  
_recommended_ | Where Fitbit should send the user after the user grants or denies consent. Required unless only one redirect URI is specified for the application in the settings on [dev.fitbit.com](https://dev.fitbit.com/apps). See [Redirect URIs](/build/reference/web-api/developer-guide/application-design/#Redirect-URL). **Type:** URI  
**expires_in**  
_optional_ | For use with the _Implicit Grant Flow_ only. Pre-select the desired access token lifetime. Authorization Code Grant flow [with PKCE] access tokens only support a lifetime of 8 hours (e.g. 28800). `86400` for 1 day  
`604800` for 1 week  
`2592000` for 30 days  
`31536000` for 1 year **Default:** 86400 **Type:** string  
**prompt**  
_optional_ | Specify if you need to force the Fitbit authentication or the OAuth 2.0 authorization page to be displayed. When used, the `redirect_uri` parameter must be specified. `none` for default behavior.  
`consent` to require consent from the user, even if they have previously
authorized your application.  
`login` to require the user to sign in, but request consent according to the
default behavior.  
`login consent` to require the user to sign in and authorize your application.
The space in this parameter value needs to be URL encoded. **Type:** string  
**state**  
_recommended_ | Provides any state that might be useful to your application when the user is redirected back to your application.
Context number 4 (score: 0.790576816): 
When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.  
  
**Response Codes**  
200 | A successful request.  
|  
400 | The request had bad syntax or was inherently impossible to be satisfied.  
401 | The request requires user authentication.  
  
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/developer-
> guide/application-design/#Localization).

  

## Additional Information

### JSON Web Tokens

Fitbit API access tokens use the JSON Web Token (JWT) format. Fitbit reserves
the right to change the contents and format of these tokens at any time.
Client applications should not create dependencies upon the token format.

Access tokens and refresh tokens may be up to 1,024 bytes in size.

### Web Browser Compatibility

The Fitbit API and its implementation of OAuth 2.0 are designed to work with
the current and one previous version of Apple Safari, Google Chrome, Microsoft
Edge, and Mozilla Firefox. When a new version of a web browser is released,
Fitbit begins supporting that version and stop supporting the third most
recent version.

[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/authorization/introspect/)

[Introspect](/build/reference/web-api/authorization/introspect/)

[Refresh Token](/build/reference/web-api/authorization/refresh-token/)

[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/authorization/refresh-token/)
Context number 5 (score: 0.778175533): 
## Additional Information

An access token intentionally is short lived. This is an important security
mechanism of OAuth 2.0. When using the Authorization Code Grant Flow [with
PKCE]. By default, the access tokens have an eight-hour lifetime.

When an access token expires, an HTTP 401 error will be returned.

    
    
    {
      "errors": [
        {
          "errorType": "expired_token",
          "message": "Access token expired: eyJhbGciOiJIUzI1NiJ9...."
        }
      ]
    }
    

At this point, your application needs to refresh the access token. The Fitbit
API follows
[RFC6749](https<nolink>://datatracker.ietf.org/doc/html/rfc6749#section-6)
specification for refreshing access tokens. A refresh token does not expire
until it is used. The refresh token can only be used once, as a new refresh
token is returned with the new access token.

If the application makes identical refresh token requests within a two-minute
period, the Fitbit Web API will return the same response. This is to assist
applications unable to coordinate the refresh token flow between processes.

Alternatively, your application could redirect the user to the authentication
flow. If the user is signed in and the scopes requested match the previously
granted scopes, the user will be redirected to your redirect URL with a new
access token without being prompted.

[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/authorization/oauth2-token/)

[OAuth2 Token](/build/reference/web-api/authorization/oauth2-token/)

[Revoke Token](/build/reference/web-api/authorization/revoke-token/)

[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/authorization/revoke-token/)
Context number 6 (score: 0.777363): 
## Response

  * Description
  * Example Response

Element Name | Description  
|  
access_token | The updated active access token.  
expires_in | the time the access token expires in seconds.  
refresh_token | the updated active refresh token.  
token_type | **Supported** : `Bearer`  
user_id | The Fitbit user ID associated with the access token and refresh token.  
  
{  
"access_token": "eyJhbGciOiJIUzI1...",  
"expires_in": 28800,  
"refresh_token": "c643a63c072f0f05478e9d18b991db80ef6061e...",  
"token_type": "Bearer",  
"user_id": "GGNJL9"  
}  

  
**Response Headers**  
content-type | The media type of the response content being sent to the client.  
**Supported:** `application/json`  
|  
fitbit-rate-limit-limit | The quota number of calls.  
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.  
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.  
  
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

  

**Response Type**  

HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).  
|  
Status Message | Description of the status code.  
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.  
  
**Response Codes**  
200 | A successful request.  
|  
400 | The request had bad syntax or was inherently impossible to be satisfied.  
401 | The request requires user authentication.  
  
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

  

## Additional Information

An access token intentionally is short lived. This is an important security
mechanism of OAuth 2.0.
Context number 7 (score: 0.774163067): 
_Returned with Implicit Grant Flow._  
scope | List of scopes enabled by the Fitbit user.  
_Returned with Implicit Grant Flow._  
  
**Authorization Code Grant Flow [with PKCE]**

    
    
    https://example.com/callback?code=<authorization_code>#_=_0
        

**Implicit Grant Flow**

    
    
    https://example.com/callback#access_token=<access_token>
        &user_id=<user_id>
        &token_type=Bearer
        &expires_in=604800
        &scope=social+weight+nutrition+profile...
        

  
**Response Headers**  
content-type | The media type of the response content being sent to the client.  
**Supported:** `application/json`  
|  
fitbit-rate-limit-limit | The quota number of calls.  
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.  
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.  
  
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

  

**Response Type**  

HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).   
|  
Status Message | Description of the status code.  
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.  
  

**Response Codes**  

For a complete list of authorization errors, please refer to the
[Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-
messages/#authorization-errors).

  

## Additional Information

### Localizing the consent page

The Fitbit consent page supports localization. Since it is just a web form,
the text is translated based on the user's "Language by Region/Country"
setting in their Fitbit account. The user's device or browser language
settings may translate the consent language, as well. We do not support a
query parameter that forces language conversion.

[Client Credentials Grant Flow](/build/reference/web-api/authorization/client-
credentials/)

[!
Context number 8 (score: 0.772400916): 
## Response

**Response Headers**  
content-type | The media type of the response content being sent to the client.  
**Supported:** `application/json`  
|  
fitbit-rate-limit-limit | The quota number of calls.  
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.  
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.  
  
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

  

**Response Type**  

HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).  
|  
Status Message | Description of the status code.  
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.  
  
**Response Codes**  
200 | A successful request.  
|  
400 | The request had bad syntax or was inherently impossible to be satisfied.  
401 | The request requires user authentication.  
  
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

  

## Additional Information

### Revoked tokens

Users have granular control over read/write access to their data through the
Fitbit Web API. When a user revokes consent to your application, their access
token becomes invalid and your access to that user's data through the Web API
is no longer available. What you do with the data that has already been
collected should be clearly documented in your Terms of Service and Privacy
Policy. Any guidelines or requirements defined by Fitbit will be specified in
our [Platform Terms of Service](https://dev.fitbit.com/legal/platform-terms-
of-service/).

### Revoking refresh tokens

When a `/oauth2/revoke` request is made with a refresh_token that is not
present in our database, the service will respond with an HTTP status code of
404 (NOT_FOUND).
Context number 9 (score: 0.772129): 
# Refresh Token

The /oauth2/token endpoint can do the following:

  * Exchange the authorization code for the initial access token and refresh token (See [OAuth2 Token](/build/reference/web-api/authorization/oauth2-token)).  
This process is required when using the Authorization Code Grant Flow.

  * Obtain a new access token and refresh token when the existing access token has expired (See [Refresh Token](/build/reference/web-api/authorization/refresh-token/)).
  * Initiate the Client Credentials authorization flow (See [Client Credentials](/build/reference/web-api/authorization/client-credentials/)).

* * *

|  
  
**Body Parameters**  
**grant_type**  
_required_ | **Supported:** `refresh_token` **Type:** string  
|  
**refresh_token**  
_required_ | The refresh token issued to you by Fitbit. **Type:** string  
**client_id**  
_required for client apps_ | This is your Fitbit API application ID from your settings on <https://dev.fitbit.com>. Apps set to type "client" should use this to pass their ID instead of the Authorization header. **Type:** string  
**expires_in**  
_optional_ | Specifies the desired access token lifetime.  `28800` for 8 hours **Supported:** 28800 **Type:** integer  
  
**Request Headers** authorization | (For use with server apps only)  
required | Must be set to Basic followed by a space, then the Base64 encoded string of your application's client id and secret concatenated with a colon. For example, the Base64 encoded string, **Y2xpZW50X2lkOmNsaWVudCBzZWNyZXQ=** , is decoded as **"client_id:client secret"**. **Token type:** `Basic`  
||  
accept | optional | The media type of the response content the client is expecting.  
**Supported:** `application/json`  
accept-language | optional | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).  
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).  
  


## Response

  * Description
  * Example Response

Element Name | Description  
|  
access_token | The updated active access token.  
expires_in | the time the access token expires in seconds.
Context number 10 (score: 0.768411934): 
**Response Codes**  
200 | A successful request.  
|  
400 | The request had bad syntax or was inherently impossible to be satisfied.  
401 | The request requires user authentication.  
  
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

  

* * *

## Additional Information

### Device support

The Fitbit devices have the ability to set an alarm. Older devices whose
alarms are configured in the mobile application support the create, delete,
get and update alarm endpoints. Newer devices, listed in this help article
<https://help.fitbit.com/articles/en_US/Help_article/1868.htm>, contain an on-
device alarm application, and do not support the alarm endpoints. The alarms
for these devices can only be set on the device itself.

Setting an alarm without a recurring schedule is intended for next day
purposes only.

[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/devices/delete-alarm/)

[Delete Alarm](/build/reference/web-api/devices/delete-alarm/)

[Get Devices](/build/reference/web-api/devices/get-devices/)

[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/devices/get-devices/)
Context number 11 (score: 0.766557872): 
The space in this parameter value needs to be URL encoded. **Type:** string  
**state**  
_recommended_ | Provides any state that might be useful to your application when the user is redirected back to your application. This parameter will be added to the redirect URI exactly as your application specifies. Fitbit strongly recommend including an anti-forgery token in this parameter and confirming its value in the redirect to mitigate against cross-site request forgery (CSRF). **Type:** string  
**code_challenge**  
(For use with PKCE only)  
_optional / required_ | The code challenge is derived from the code verifier by using a transformation on the code verifier. The code verifier is a cryptographically random string dynamically created for each authorization request. The available transformations are `S256 ` and `plain`. `S256`: must be used if supported by the client:  
_code_challenge = BASE64URL-ENCODE(SHA256(ASCII(code_verifier)))_.  
  
`plain`: does not mitigate as wide a range of attacks as `S256` and may be
used only if the client cannot technically support `S256`: _code_challenge =
code_verifier_. **Default:** plain **Type:** string  
**code_challenge_method**  
(For use with PKCE only)  
_optional_ | Code verifier transformation method is `S256` or `plain`. **Default:** plain **Type:** string   
  

  



## Response

  * Description
  * Example Response

URL Parameter | Description  
|  
code  
| The authorization code which needs to be exchanges for the access token and
refresh token.  
_Returned with Authorization Code Grant Flow [with PKCE]._  
access_token  
| The Fitbit user's access token.  
_Returned with Implicit Grant Flow._  
user_id | The Fitbit user id.  
_Returned with Implicit Grant Flow._  
token_type | **Supported** : Bearer  
_Returned with Implicit Grant Flow._  
expires_in | Time when the access token expires.  
_Returned with Implicit Grant Flow._  
scope | List of scopes enabled by the Fitbit user.
Context number 12 (score: 0.765776694): 
**Token type:** `Basic`  
||  
accept | optional | The media type of the response content the client is expecting.  
**Supported:** `application/json`  
accept-language | optional | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).  
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).  
  


## Response

  * Description
  * Example Response

Element Name | Description  
|  
access_token | The active access token.  
expires_in | The time the access token expires in seconds.  
scope | List of scopes supported by the access token.  
  
token_type | **Supported** : `Bearer`  
  
{  
"access_token": "eyJhbGciOiJIUzI1...",  
"expires_in": 28800,  
"scope": "",  
"token_type": "Bearer"  
}  

  
**Response Headers**  
content-type | The media type of the response content being sent to the client.  
**Supported:** `application/json`  
|  
fitbit-rate-limit-limit | The quota number of calls.  
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.  
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.  
  
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

  

**Response Type**  

HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).  
|  
Status Message | Description of the status code.  
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.  
  
**Response Codes**  
200 | A successful request.  
|  
400 | The request had bad syntax or was inherently impossible to be satisfied.  
401 | The request requires user authentication.
Context number 13 (score: 0.764135957): 
**Response Codes**  
204 | A successful request.  
|  
400 | The request had bad syntax or was inherently impossible to be satisfied.  
401 | The request requires user authentication.  
  
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

  

## Additional Information

### Webhook notifications

The Fitbit Web API can send notifications when a Fitbit user has new data to
download. This is possible by implementing the Subscription API and
subscribing to one or more data collections. See [ Using
Subscriptions](/build/reference/web-api/developer-guide/using-subscriptions/).
Whenever the activity service recognizes a change to the user’s data, a
notification is sent to your application’s subscriber.

The activity collection recognizes changes to a user’s recorded activities,
step count, calories burned, distance traveled, etc. Keep in mind that even
when a person is not in motion, their body is burning calories. It’s possible
to receive activity notifications representing calorie burn even when the user
is sleeping or stationary. Today, you cannot subscribe to a subset of the
user’s activity data. So, it is the responsibility of your application to
query the necessary activity endpoint(s) to reconcile the data in your system.

[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/activity/create-favorite-activity/)

[Create Favorite Activity](/build/reference/web-api/activity/create-favorite-
activity/)

[Delete Favorite Activity](/build/reference/web-api/activity/delete-favorite-
activity/)

[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/activity/delete-favorite-activity/)
Context number 14 (score: 0.763381124): 
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.  
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.  
  
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

  

**Response Type**  

HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).  
|  
Status Message | Description of the status code.  
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.  
  
**Response Codes**  
200 | A successful request.  
|  
400 | The request had bad syntax or was inherently impossible to be satisfied.  
401 | The request requires user authentication.  
403 | The user's privacy settings prevent you from seeing their friends.  
  
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).  
>

  

* * *

## Additional Information

The Fitbit privacy setting **My Friends** (Private, Friends Only or Public)
determines the access to a user's list of friends.

### Inviting friends

Fitbit does not offer endpoints that can send or respond to friend invitation
requests. The Fitbit user must send friend requests through the mobile
application or Fitbit.com. See [How do I connect with friends on
Fitbit?](https<nolink>://help.fitbit.com/articles/en_US/Help_article/1858.htm)

[Get Friends Leaderboard](/build/reference/web-api/friends/get-friends-
leaderboard/)

[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/friends/get-friends-leaderboard/)
Context number 15 (score: 0.761882663): 
See [How do I connect with friends on
Fitbit?](https://help.fitbit.com/articles/en_US/Help_article/1858.htm)

[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/friends/get-friends/)

[Get Friends](/build/reference/web-api/friends/get-friends/)
Context number 16 (score: 0.758777678): 
**Supported:** `application/json`  
|  
fitbit-rate-limit-limit | The quota number of calls.  
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.  
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.  
  
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

  

**Response Type**  

HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).   
|  
Status Message | Description of the status code.  
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.  
  
**Response Codes**  
200 | A successful request.  
|  
400 | The request had bad syntax or was inherently impossible to be satisfied.  
401 | The request requires user authentication.  
  
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

  

## Additional Information

Authorized user (self) is also included in the response. Leaderboard has the
last seven (7) days worth of data (the previous six days plus today's date) in
real time.

The **Average Daily Step Count** privacy setting in the Fitbit user's profile
settings allows a user to be included to Friends leaderboard whether they hide
themselves on their profile settings or not.

### Inviting friends

Fitbit does not offer endpoints that can send or respond to friend invitation
requests. The Fitbit user must send friend requests through the mobile
application or Fitbit.com. See [How do I connect with friends on
Fitbit?](https://help.fitbit.com/articles/en_US/Help_article/1858.htm)

[!
Context number 17 (score: 0.758095682): 
pagination : limit | The limit parameter of the request.  
  
**Maximum:** `10`  
pagination : next | The URL of the request that will fetch the next page of results.  
pagination : offset | The offset parameter of the request.  
pagination : previous | The URL of the request that will fetch the previous page of results.  
pagination : sort | The sort parameter of the request.  
      
    
    {
        "ecgReadings": [
        {
            "startTime": "2022-09-28T17:12:30.222",
            "averageHeartRate": 70,
            "resultClassification": "Normal Sinus Rhythm",
            "waveformSamples": [
                130,
                176,
                252,
                365,
                ...
            ],
            "samplingFrequencyHz": "250",
            "scalingFactor": 10922,
            "numberOfWaveformSamples": 7700,
            "leadNumber": 1,
            "featureVersion": "1.2.3-2.11-2.14",
            "deviceName": "Sense",
            "firmwareVersion": "1.2.3"
        }
        ],
        pagination : {
            "afterDate": "2022-09-28T20:00:00",
            "limit": 1,
            "next": "https://api.fitbit.com/1/user/-/ecg/list.json?offset=10&limit=10&sort=asc&afterDate=2022-09-28T21:00:00",
            "offset": 0
            "previous": "",
            "sort": "asc"  
        }  
    }
          

  
**Response Headers**  
content-type | The media type of the response content being sent to the client.  
**Supported:** `application/json`  
|  
fitbit-rate-limit-limit | The quota number of calls.  
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.  
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.  
  
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

  

**Response Type**  

HTTP Status Code | HTTP response code.
Context number 18 (score: 0.757410645): 
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

  

**Response Type**  

HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).  
|  
Status Message | Description of the status code.  
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.  
  
**Response Codes**  
201 | A successful request.  
|  
400 | The request had bad syntax or was inherently impossible to be satisfied.  
401 | The request requires user authentication.  
  
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).  
>

  

* * *

## Additional Information

### Device support

The Fitbit devices have the ability to set an alarm. Older devices whose
alarms are configured in the mobile application support the create, delete,
get and update alarm endpoints. Newer devices, listed in this help article
<https://help.fitbit.com/articles/en_US/Help_article/1868.htm>, contain an on-
device alarm application, and do not support the alarm endpoints. The alarms
for these devices can only be set on the device itself.

Setting an alarm without a recurring schedule is intended for next day
purposes only.

[Delete Alarm](/build/reference/web-api/devices/delete-alarm/)

[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/devices/delete-alarm/)
Context number 19 (score: 0.756473958): 
pagination : sort | The sort parameter of the request.  
pagination : limit | The limit parameter of the request.  
  
**Maximum:** `10`  
pagination : offset | The offset parameter of the request.  
      
    
    {
      "alerts": [
        {
          "alertTime": "2022-09-28T17:12:30.000",
          "detectedTime": "2022-09-28T17:45:00.000",
          "serviceVersion": "2.2",
          "algoVersion": "1.6",
          "deviceType": "Sense",
          "windows": [
            {
              "startTime": "2022-09-28T17:12:30.000",
              "bpmData": [
                {
                  "dataTime": "2022-09-28T17:12:30.124",
                  "value": 73
                }
              ]
            }
          ]
        }
      ],
      "pagination": {
        "afterDate": "2022-09-28T20:00:00",
        "next": "[https://api.fitbit.com/1/user/-/irn/alerts/list.json?offset=0&limit=10&sort=asc&afterDate=2022-09-28T21:00:00"](https://api.fitbit.com/1/user/-/irn/alerts/list.json?offset=0&limit=10&sort=asc&afterDate=2022-09-28T21:00:00"),
        "previous": "",
        "sort": "asc",
        "limit": 1,
        "offset": 0
      }
    }
          

  
**Response Headers**  
content-type | The media type of the response content being sent to the client.  
**Supported:** `application/json`  
|  
fitbit-rate-limit-limit | The quota number of calls.  
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.  
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.  
  
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.
Context number 20 (score: 0.756053805): 
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).  
content-length | required | According to [RFC 7230, section 3.3.2](https://tools.ietf.org/html/rfc7230#section-3.3.2), this HTTP request requires the Content-Length header field containing the anticipated size of the payload body.  
X-Fitbit-Subscriber-Id | optional | The ID of the subscriber to receive notifications, as defined on dev.fitbit.com. If not present, the default subscriber is used.  
  


## Response

  * Description
  * Example Response

Element Name | Description  
|  
collectionType |   
ownerId |   
ownerType |   
subscriberId |   
subscriptionId |   
      
    
    {
    "collectionType":"activities",
    "ownerId":"GGNJL9",
    "ownerType":"user",
    "subscriberId":"1",
    "subscriptionId":"320"
    }
          

  
**Response Headers**  
content-type | The media type of the response content being sent to the client.  
**Supported:** `application/json`  
|  
fitbit-rate-limit-limit | The quota number of calls.  
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.  
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.  
  
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

  

**Response Type**  

HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).  
|  
Status Message | Description of the status code.  
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.  
  
**Response Codes**  
200 | Returned if the given user is already subscribed to the stream using the same subscription ID.  
|  
201 | Returned if a new subscription was created in response to your request.
---------------latest_code---------------

Context number 1 (score: 0.83320868): 
## Request

URL |  https://www.fitbit.com/oauth2/authorize  
---
Context number 2 (score: 0.81528753): 
**Examples**

  * URL
  * CURL

POST https://api.fitbit.com/oauth2/token  
Authorization: Basic <basic_token>  
Content-Type: application/x-www-form-urlencoded  
  
grant_type=client_credentials  

curl -X POST "https://api.fitbit.com/oauth2/token" \  
-H "accept: application/json" \  
-H "authorization: Basic <basic_token>" \  
-d "grant_type=client_credentials"  

  

* * *
Context number 3 (score: 0.81390357): 
**Examples**

  * URL
  * CURL

**Authorization Code Grant Flow**  
POST https://api.fitbit.com/oauth2/token  
Authorization: Basic <basic_token>  
Content-Type: application/x-www-form-urlencoded  
  
grant_type=authorization_code&code=<authorization_code>  
&redirect_uri=https%3A%2F%2Fexample.com%2Fcallback  
  
**Authorization Code Grant Flow with PKCE**  
POST https://api.fitbit.com/oauth2/token  
Authorization: Basic <basic_token>  
Content-Type: application/x-www-form-urlencoded  
  
grant_type=authorization_code&code=<authorization_code>  
&redirect_uri=https%3A%2F%2Fexample.com%2Fcallback  
&code_verifier=<code_verifier_value>  
  
**Authorization Code Grant Flow with PKCE (App Type: Client)**  
POST https://api.fitbit.com/oauth2/token  
Content-Type: application/x-www-form-urlencoded  
  
client_id=<client_id>&grant_type=authorization_code&code=<authorization_code>  
&redirect_uri=https%3A%2F%2Fexample.com%2Fcallback  
&code_verifier=<code_verifier_value>  

**Authorization Code Grant Flow**  
curl -X POST "https://api.fitbit.com/oauth2/token" \  
-H "accept: application/json" \  
-H "authorization: Basic <basic_token>" \  
-d "grant_type=authorization_code&code=<authorization_code> \  
&redirect_uri=https%3A%2F%2Fexample.com%2Fcallback"  
  
**Authorization Code Grant Flow with PKCE**  
curl -X POST "https://api.fitbit.com/oauth2/token" \  
-H "accept: application/json" \  
-H "authorization: Basic <basic_token>" \  
-d "grant_type=authorization_code&code=<authorization_code> \  
&redirect_uri=https%3A%2F%2Fexample.com%2Fcallback \  
&code_verifier=<code_verifier_value>"  
  
**Authorization Code Grant Flow with PKCE (App Type: Client)**  
curl -X POST "https://api.fitbit.com/oauth2/token" \  
-H "accept: application/json" \  
-d "client_id=<client_id>&grant_type=authorization_code&code=<authorization_code> \  
&redirect_uri=https%3A%2F%2Fexample.
Context number 4 (score: 0.810383558): 
**Examples**

  * URL
  * CURL

**App Type: Server**  
POST https://api.fitbit.com/oauth2/token  
Authorization: Basic <basic_token>  
Content-Type: application/x-www-form-urlencoded  
  
grant_type=refresh_token&refresh_token=<refresh_token>  
  
**App Type: Client**  
POST https://api.fitbit.com/oauth2/token  
Content-Type: application/x-www-form-urlencoded  
  
client_id=<client_id>&grant_type=refresh_token&refresh_token=<refresh_token>

**Application Type: Server**  
curl -X POST "https://api.fitbit.com/oauth2/token" \  
-H "accept: application/json" \  
-H "authorization: Basic <basic_token>" \  
-d "grant_type=refresh_token&refresh_token=<refresh_token>"  
  
**Application Type: Client**  
curl -X POST "https://api.fitbit.com/oauth2/token" \  
-H "accept: application/json" \  
-d "client_id=<client_id>&grant_type=refresh_token&refresh_token=<refresh_token>" 

  

* * *
Context number 5 (score: 0.803798676): 
**Examples**

**Authorization Code Grant Flow with PKCE (recommended)**

    
    
    https://[www.fitbit.com/oauth2/authorize?response_type=code](http://www.fitbit.com/oauth2/authorize?response_type=code)
        &client_id=<client ID>
        &redirect_uri=https%3A%2F%2Fexample.com%2Fcallback
        &code_challenge=E9Melhoa2OwvFrEMTJgCHaoeK1t8URWbuGJSstw-cM
        &code_challenge_method=S256
        &scope=activity%20nutrition%20heartrate%20location%20...

**Authorization Code Grant Flow**

    
    
    https://[www.fitbit.com/oauth2/authorize?response_type=code](http://www.fitbit.com/oauth2/authorize?response_type=code)
        &client_id=<client ID>
        &redirect_uri=https%3A%2F%2Fexample.com%2Fcallback
        &scope=activity%20nutrition%20heartrate%20location%20...

**Implicit Grant Flow**

    
    
    https://[www.fitbit.com/oauth2/authorize?response_type=token](http://www.fitbit.com/oauth2/authorize?response_type=token)
        &client_id=<client ID>
        &redirect_uri=https%3A%2F%2Fexample.com%2Fcallback
        &expires_in=604800
        &scope=activity%20nutrition%20heartrate%20location%20...  
  
---  
  
  

* * *
Context number 6 (score: 0.802412093): 
**Examples**

  * URL
  * CURL

POST https://api.fitbit.com/1.1/oauth2/introspect  
Authorization: Bearer <access_token>  
Content-Type: application/x-www-form-urlencoded  
  
token=<The OAuth 2.0 token to retrieve the state>  

curl -X POST "https://api.fitbit.com/1.1/oauth2/introspect" \  
-H "authorization: Bearer <access_token> \"  
-H "content-type: application/x-www-form-urlencoded" \  
-d "token=<The OAuth 2.0 token to retrieve the state>" 

  

* * *
Context number 7 (score: 0.794584274): 
**Examples**

  * URL
  * CURL

GET <https://api.fitbit.com/1/user/-/irn/profile.json>  
GET <https://api.fitbit.com/1/user/GGNJL9/irn/profile.json>  

curl -X GET "<https://api.fitbit.com/1/user/-/irn/profile.json"> \  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
Context number 8 (score: 0.79290992): 
**Examples**

  * URL
  * CURL

GET https://api.fitbit.com/1.1/user/-/friends.json  
GET https://api.fitbit.com/1.1/user/GGNJL9/friends.json

curl -X GET "https://api.fitbit.com/1.1/user/-/friends.json" \  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
Context number 9 (score: 0.792008042): 
**Examples**

  * URL
  * CURL

GET https://api.fitbit.com/1/user/-/devices.json  
GET https://api.fitbit.com/1/user/GGNJL9/devices.json

curl -X GET "https://api.fitbit.com/1/user/-/devices.json" \  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
Context number 10 (score: 0.791401207): 
**Examples**

  * URL
  * CURL

POST https://api.fitbit.com/oauth2/revoke  
Authorization: Basic <basic_token>  
Content-Type: application/x-www-form-urlencoded  
token=<access_token or refresh_token to be revoked>  
  
**Revoking tokens used by public clients**  
POST https://api.fitbit.com/oauth2/revoke  
Content-Type: application/x-www-form-urlencoded  
client_id=<public_client_id>&token=<access_token or refresh_token to be
revoked>

curl -X POST "https://api.fitbit.com/oauth2/revoke" \  
-H "content-type: application/x-www-form-urlencoded" \  
-H "Authorization: Basic <basic_token>" \  
-d "token=<access_token or refresh_token to be revoked>"  
  
**Revoking tokens used by public clients**  
curl -X POST "https://api.fitbit.com/oauth2/revoke" \  
-H "content-type: application/x-www-form-urlencoded" \  
-d "client_id=<public_client_id>&token=<access_token or refresh_token to be revoked>" 

  

* * *
Context number 11 (score: 0.789582074): 
**Examples**

  * URL
  * CURL

GET https://api.fitbit.com/1/user/-/hrv/date/2021-10-01/2021-10-04/all.json  
GET
https://api.fitbit.com/1/user/GGNJL9/hrv/date/2021-10-01/2021-10-04/all.json

curl -X GET
"https://api.fitbit.com/1/user/-/hrv/date/2021-10-25/2022-10-26/all.json" \  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
Context number 12 (score: 0.786585927): 
**Examples**

  * URL
  * CURL

GET https://api.fitbit.com/1.2/user/-/sleep/date/2020-01-01/2020-01-05.json  
GET
https://api.fitbit.com/1.2/user/GGNJL9/sleep/date/2020-01-01/2020-01-05.json

curl -X GET
"https://api.fitbit.com/1.2/user/-/sleep/date/2020-01-01/2020-01-05.json" \  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
Context number 13 (score: 0.785161436): 
**Examples**

  * URL
  * CURL

GET https://api.fitbit.com/1/user/-/br/date/2021-10-04.json  
GET <https://api.fitbit.com/1/user/GGNJL9/br/date/2021-10-04.json>  

curl -X GET "https://api.fitbit.com/1/user/-/br/date/2021-10-04.json" \  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
Context number 14 (score: 0.784975886): 
**Examples**

  * URL
  * CURL

GET https://api.fitbit.com/1/user/-/hrv/date/2021-10-04.json  
GET https://api.fitbit.com/1/user/GGNJL9/hrv/date/2021-10-04.json  

curl -X GET "https://api.fitbit.com/1/user/-/hrv/date/2021-10-04.json" \  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
Context number 15 (score: 0.784306228): 
**Examples**

  * URL
  * CURL

GET https://api.fitbit.com/1/user/-/hrv/date/2021-10-04/all.json  
GET https://api.fitbit.com/1/user/GGNJL9/hrv/date/2021-10-04/all.json  

curl -X GET "https://api.fitbit.com/1/user/-/hrv/date/2021-10-04/all.json" \  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
Context number 16 (score: 0.782656074): 
**Examples**

  * URL
  * CURL

GET https://api.fitbit.com/1/user/-/br/date/2021-11-09/all.json  
GET https://api.fitbit.com/1/user/GGNJL9/br/date/2021-11-009/all.json

curl -X GET "https://api.fitbit.com/1/user/-/br/date/2021-11-09/all.json" \  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
Context number 17 (score: 0.782634): 
**Examples**

  * URL
  * CURL

GET
https://api.fitbit.com/1.2/user/-/sleep/list.json?afterDate=2020-05-01&sort=asc&offset=0&limit=1  
GET
https://api.fitbit.com/1.2/user/GGNJL9/sleep/list.json?afterDate=2020-05-01&sort=asc&offset=0&limit=1

curl -X GET
"https://api.fitbit.com/1.2/user/-/sleep/list.json?2020-05-01&sort=asc&offset=0&limit=1"
\  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
Context number 18 (score: 0.782601357): 
**Examples**

  * URL
  * CURL

GET https://api.fitbit.com/1/user/-/br/date/2021-10-25/2021-11-09/all.json  
GET
https://api.fitbit.com/1/user/GGNJL9/br/date/2021-10-01/2021-10-04/all.json

curl -X GET
"https://api.fitbit.com/1/user/-/br/date/2021-10-25/2021-11-09/all.json" \  
-H "accept: application/json" \  
-H "authorization: Bearer <access_token>" 

  

* * *
---------------outdated_natural_language---------------

Context number 1 (score: 0.726064146): 
Resource URL 
 
 
 
       user-id   The encoded ID of
    the user. Use "-" (dash) for current logged-in user.     
 log-id   ID of the sleep log to be deleted.   
   
 Response 
 A successful request will return a  204  status code with an empty response
body. 
 Sleep Time Series (Deprecated) 
 Note:  This API has been deprecated with the introduction of version 1.2 of
the Sleep APIs described above. Sleep Stages data cannot be retrieved with this
API. If your application requires data consistency while you transition over to
the version 1.2 Sleep APIs, you can get this data through the  version 1 Get
Sleep Logs by Date
endpoint . 
 The  Get Sleep Time Series  endpoint returns time series data in the specified
range for a given resource in the format requested using units in the  unit
system  that corresponds to the Accept-Language
header provided. 
 Note:  Even if you provide earlier dates in the request, the response
retrieves only data since the user's join date or the first log entry date for
the requested collection. 
 Resource URL 
 There are two acceptable formats for retrieving intraday data: 
 
 
 
       api-version   The API
    version. Currently version  1 .       user-id 
 The encoded ID of the user. Use "-" (dash) for current logged-in
    user.       resource-path   The resource path; see
    the  Resource Path Options  below for a list of options.     
 date   The end date of the period specified in the format
     yyyy-MM-dd  or  today .       period   The
    range for which data will be returned. Options are  1d, 7d, 30d, 1w, 1m,
    3m, 6m, 1y,  or  max.       
 
 
 
       api-version   The API
   version. Currently version  1 .       user-id 
 The encoded ID of the user. Use "-" (dash) for current logged-in
   user.       resource-path   The resource path; see
   the  Resource Path Options  below for a list of options.     
 base-date   The range start date, in the format  yyyy-MM-dd 
   or  today .
Context number 2 (score: 0.71107018): 
resource-path   The resource path; see
   the  Resource Path Options  below for a list of options.     
 base-date   The range start date, in the format  yyyy-MM-dd 
   or  today .       end-date   The end date of the
   range.       
 Resource Path Options 
 
 
 
 Example Requests 
 
 
 
 Request Headers 
       Accept-Language 
 optional   The language to use for response values. Language is
    used to determine the food measurement units returned.     
 
     Partner Support
Context number 3 (score: 0.701194048): 
Sleep Logs Version 1 (Deprecated) 
 Overview 
 These endpoints are deprecated and support for them may end unexpectedly. If
your application does not depend on the sleep as calculated by these endpoints,
please use the new  v1.2 sleep endpoints . 
 
 Note : Version 1 APIs  do not  support Sleep Stages data 
 
 Get Sleep Logs by Date 
 The  Get Sleep Logs by Date  endpoint returns a summary and list of a user's
sleep log entries (including naps) as well as detailed sleep entry data for a
given day. 
 The relationship between sleep log entry properties is expressed with the
following equation: 
 
 
 
 Resource URL 
 
 
 
 URL parameters: 
       user-id   The ID of the user.
    Use "-" (dash) for current logged-in user.       date 
 The date of records to be returned. In the format  yyyy-MM-dd . 
     
 Example Request 
 
 
 
 Example Response 
 Note:  The text within the brackets  <>  is a descriptive placeholder for a
value or repeated elements. Also, values for  minuteData  can be  1 
("asleep"),  2  ("restless"), or  3  ("awake"). 
 
 
 
 Log Sleep 
 The  Log Sleep  endpoint creates a log entry for a sleep event and returns a
response in the format requested. Keep in mind that it is  NOT  possible to
create overlapping log entries. The  dateOfSleep  in the response for the
sleep log is the date on which the sleep event ends. 
 Resource URL 
 
 
 
       user-id   The ID of the user.
    Use "-" (dash) for current logged-in user.       
 POST Parameters 
       startTime   required 
 Start time; hours and minutes in the format  HH:mm .     
 duration   required   Duration in
    milliseconds.       date   required 
 Log entry date in the format  yyyy-MM-dd .     
 
 Example Request 
 
 
 
 Example Response 
 Note:  The text within the brackets  <>  is a descriptive placeholder for a
value or repeated elements. 
 
 
 
 Delete Sleep Log 
 The  Delete Sleep Log  endpoint deletes a user's sleep log entry with the
given ID. 
 Resource URL 
 
 
 
       user-id   The encoded ID of
    the user. Use "-" (dash) for current logged-in user.
---------------outdated_code---------------

Context number 1 (score: 0.785572231): 
GET https://api.fitbit.com/1/user/[user-id]/[resource-path]/date/[base-date]/[end-date].json
Context number 2 (score: 0.775111437): 
GET https://api.fitbit.com/1/user/[user-id]/[resource-path]/date/[date]/[period].json
Context number 3 (score: 0.757724345): 
GET https://api.fitbit.com/1/user/[user-id]/sleep/date/[date].json
Context number 4 (score: 0.755732059): 
GET https://api.fitbit.com/1/user/-/sleep/minutesAsleep/date/today/2014-09-01.json
GET https://api.fitbit.com/1/user/-/sleep/minutesAsleep/date/2014-09-01/today.json
Context number 5 (score: 0.7540856): 
GET https://api.fitbit.com/1/user/-/sleep/date/2014-09-01.json
Context number 6 (score: 0.753543913): 
POST https://api.fitbit.com/1/user/[user-id]/sleep.json
Context number 7 (score: 0.751241088): 
POST https://api.fitbit.com/1/user/-/sleep.json?date=2017-03-27&startTime=19:55&duration=7200000
Context number 8 (score: 0.730772): 
DELETE https://api.fitbit.com/1/user/[user-id]/sleep/[log-id].jso